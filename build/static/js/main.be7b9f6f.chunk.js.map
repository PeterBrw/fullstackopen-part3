{"version":3,"sources":["services/persons.js","components/Header/Header.js","components/Header/index.js","components/PersonForm/PersonForm.js","components/PersonForm/index.js","components/Filter/Filter.js","components/Filter/index.js","components/Person/Person.js","components/Person/index.js","components/Persons/Persons.js","components/Persons/index.js","components/Notification/Notification.js","components/Notification/index.js","App.js","index.js"],"names":["baseUrl","Header","text","PersonForm","addName","newName","handleNameChange","setNewName","newNumber","handleNumberChange","setNewNumber","onSubmit","value","onChange","onFocus","type","Filter","handleFilterChange","Person","name","number","id","deletePerson","onClick","Persons","filteredPersons","map","person","Notification","message","error","className","App","useState","persons","setPersons","filter","setFilter","notificationMessage","setNotificationMessage","setError","useEffect","axios","get","then","response","data","initPersons","catch","alert","toLowerCase","includes","e","target","preventDefault","newObject","newPersons","existsPerson","forEach","exists","window","confirm","put","returnedPerson","setTimeout","post","create","personAdded","push","delete","deleteAPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.be7b9f6f.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nexport const getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then((response) => response.data)\n}\n\nexport const create = (newObject) => {\n\tconst request = axios.post(baseUrl, newObject)\n\treturn request.then((response) => response.data)\n}\n\nexport const deleteAPerson = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\treturn request.then((response) => response.data)\n}\n\nexport const update = (id, newObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\n\treturn request.then((response) => response.data)\n}\n","import React from 'react'\n\nfunction Header({ text }) {\n\treturn (\n\t\t<>\n\t\t\t<h2>{text}</h2>\n\t\t</>\n\t)\n}\n\nexport default Header\n","import Header from './Header'\n\nexport default Header","import React from 'react'\n\nfunction PersonForm({\n\taddName,\n\tnewName,\n\thandleNameChange,\n\tsetNewName,\n\tnewNumber,\n\thandleNumberChange,\n\tsetNewNumber,\n}) {\n\treturn (\n\t\t<>\n\t\t\t<form onSubmit={addName}>\n\t\t\t\t<div>\n\t\t\t\t\tname:{' '}\n\t\t\t\t\t<input\n\t\t\t\t\t\tvalue={newName}\n\t\t\t\t\t\tonChange={handleNameChange}\n\t\t\t\t\t\tonFocus={() => setNewName('')}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\tnumber:{' '}\n\t\t\t\t\t<input\n\t\t\t\t\t\tvalue={newNumber}\n\t\t\t\t\t\tonChange={handleNumberChange}\n\t\t\t\t\t\tonFocus={() => setNewNumber('')}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</>\n\t)\n}\n\nexport default PersonForm\n","import PersonForm from './PersonForm'\n\nexport default PersonForm","import React from 'react'\n\nfunction Filter({ handleFilterChange }) {\n\treturn (\n\t\t<div>\n\t\t\tfilter shown with: <input onChange={handleFilterChange} />\n\t\t</div>\n\t)\n}\n\nexport default Filter\n","import Filter from './Filter'\n\nexport default Filter","import React from 'react'\n\nfunction Person({ name, number, id, deletePerson }) {\n\treturn (\n\t\t<>\n\t\t\t<p>\n\t\t\t\t{name} {number} <button onClick={() => deletePerson(name, id)}>delete</button>\n\t\t\t</p>\n\t\t</>\n\t)\n}\n\nexport default Person\n","import Person from './Person'\n\nexport default Person","import React from 'react'\nimport Person from '../Person'\n\nfunction Persons({ filteredPersons, deletePerson }) {\n\treturn (\n\t\t<>\n\t\t\t{filteredPersons.map((person) => (\n\t\t\t\t<Person\n\t\t\t\t\tkey={person.id}\n\t\t\t\t\tname={person.name}\n\t\t\t\t\tnumber={person.number}\n\t\t\t\t\tid={person.id}\n\t\t\t\t\tdeletePerson={deletePerson}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</>\n\t)\n}\n\nexport default Persons\n","import Persons from './Persons'\n\nexport default Persons\n","import React from 'react'\n\nfunction Notification({ message, error }) {\n\tif (message === null) {\n\t\treturn null\n\t}\n\n\treturn <div className={error ? 'error' : 'person-added'}>{message}</div>\n}\n\nexport default Notification\n","import Notification from './Notification'\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport { getAll, create, deleteAPerson, update } from '../src/services/persons'\nimport Header from './components/Header'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('add a new name')\n\tconst [newNumber, setNewNumber] = useState('add the number')\n\tconst [filter, setFilter] = useState('')\n\tconst [notificationMessage, setNotificationMessage] = useState(null)\n\tconst [error, setError] = useState(false)\n\n\tuseEffect(() => {\n\t\tgetAll()\n\t\t\t.then((initPersons) => setPersons(initPersons))\n\t\t\t.catch((error) => alert('Something went wrong with fetching data!'))\n\t}, [])\n\n\tconst addName = (e) => {\n\t\te.preventDefault()\n\t\tconst newPersons = [...persons]\n\n\t\tlet existsPerson = {}\n\n\t\tnewPersons.forEach((person) => {\n\t\t\tif (person.name.toLowerCase() === newName.toLowerCase()) {\n\t\t\t\texistsPerson = {\n\t\t\t\t\t...person,\n\t\t\t\t\tnumber: newNumber,\n\t\t\t\t\texists: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tif (existsPerson.exists) {\n\t\t\tconst result = window.confirm(\n\t\t\t\t`${existsPerson.name} is already added to the phonebook, replace the old number with a new one?`\n\t\t\t)\n\t\t\tif (result) {\n\t\t\t\tupdate(existsPerson.id, {\n\t\t\t\t\tname: existsPerson.name,\n\t\t\t\t\tnumber: existsPerson.number,\n\t\t\t\t})\n\t\t\t\t\t.then((returnedPerson) => {\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.map((person) =>\n\t\t\t\t\t\t\t\tperson.id !== existsPerson.id ? person : returnedPerson\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t\tsetNotificationMessage(`Number of  ${returnedPerson.name} was changed!`)\n\t\t\t\t\t\tsetNewName('')\n\t\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t\t}, 5000)\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) =>\n\t\t\t\t\t\talert('Something went wrong when you want to replace the number!')\n\t\t\t\t\t)\n\t\t\t}\n\t\t\tsetNewName('')\n\t\t\tsetNewNumber('')\n\t\t\treturn\n\t\t}\n\n\t\tif (newName === '' || newNumber === '') {\n\t\t\talert('Add data in both inputs')\n\t\t\tsetNewName('')\n\t\t\tsetNewNumber('')\n\t\t\treturn\n\t\t}\n\n\t\tconst newPerson = { name: newName, number: newNumber }\n\n\t\tcreate(newPerson)\n\t\t\t.then((personAdded) => {\n\t\t\t\tnewPersons.push(personAdded)\n\t\t\t\tsetPersons(newPersons)\n\t\t\t\tsetNotificationMessage(`Added ${personAdded.name}`)\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewNumber('')\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t}, 5000)\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tsetNotificationMessage(\n\t\t\t\t\terror.response.data.error\n\t\t\t\t)\n\t\t\t\tsetError(true)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\tsetError(false)\n\t\t\t\t}, 5000)\n\t\t\t})\n\t}\n\n\tconst deletePerson = (name, id) => {\n\t\tconst result = window.confirm(`Delete ${name} ?`)\n\n\t\tif (result) {\n\t\t\tdeleteAPerson(id)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetPersons(persons.filter((person) => person.id !== id))\n\t\t\t\t\tsetNotificationMessage(`${name} has been removed with success`)\n\t\t\t\t\tsetError(true)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t\tsetError(false)\n\t\t\t\t\t}, 5000)\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t\t`Information of  ${name} has already been removed from server`\n\t\t\t\t\t)\n\t\t\t\t\tsetPersons(persons.filter((person) => person.id !== id))\n\t\t\t\t\tsetError(true)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t\tsetError(false)\n\t\t\t\t\t}, 5000)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst handleNameChange = (e) => setNewName(e.target.value)\n\tconst handleNumberChange = (e) => setNewNumber(e.target.value)\n\tconst handleFilterChange = (e) => setFilter(e.target.value)\n\n\tconst filteredPersons = persons.filter((person) =>\n\t\tperson.name.toLowerCase().includes(filter.toLowerCase())\n\t)\n\n\treturn (\n\t\t<div>\n\t\t\t<Header text={'Phonebook'} />\n\t\t\t<Notification message={notificationMessage} error={error} />\n\t\t\t<Filter handleFilterChange={handleFilterChange} />\n\n\t\t\t<Header text={'add a new'} />\n\n\t\t\t<PersonForm\n\t\t\t\taddName={addName}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\tsetNewName={setNewName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t\tsetNewNumber={setNewNumber}\n\t\t\t/>\n\n\t\t\t<Header text={'Numbers'} />\n\n\t\t\t<Persons filteredPersons={filteredPersons} deletePerson={deletePerson} />\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}